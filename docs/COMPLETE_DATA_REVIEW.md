# üìä Revis√£o Completa de Dados CSV - B3 Trading Platform

**Data da An√°lise:** 2026-01-28  
**Pastas Analisadas:** `dados23e24` + `dados26`

---

## üéØ RESUMO EXECUTIVO

| M√©trica | Valor |
|---------|-------|
| **Total de S√≠mbolos √önicos** | 58 |
| **S√≠mbolos em dados23e24** | 58 (2023-2024-2025) |
| **S√≠mbolos em dados26** | 24 (janeiro 2026) |
| **S√≠mbolos em ambas** | 24 |
| **Apenas em dados23e24** | 34 |

---

## üéØ ATIVOS PRIORIT√ÅRIOS - DETALHAMENTO COMPLETO

### üìä PETR4 (Petrobras PN)

#### dados23e24 (2023-2024-2025)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 1,888 | 30/09/2024 ‚Üí 30/12/2024 | 127.7 KB |
| 60min | 3,994 | 02/01/2023 ‚Üí 30/12/2024 | 275.3 KB |
| Di√°rio | 499 | 02/01/2023 ‚Üí 30/12/2024 | 31.0 KB |

#### dados26 (janeiro 2026)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 610 | 02/01/2026 ‚Üí 28/01/2026 | 41.4 KB |
| 60min | 156 | 02/01/2026 ‚Üí 28/01/2026 | 10.8 KB |
| Di√°rio | 19 | 02/01/2026 ‚Üí 28/01/2026 | 1.2 KB |

**TOTAL COMBINADO:**
- **15min:** 2,498 candles (1,888 + 610)
- **60min:** 4,150 candles (3,994 + 156)
- **Di√°rio:** 518 candles (499 + 19)

‚ö†Ô∏è **OBSERVA√á√ÉO:** 15min s√≥ tem dados desde 30/09/2024, enquanto 60min e Di√°rio t√™m desde 02/01/2023.

---

### üìä VALE3 (Vale ON)

#### dados23e24 (2023-2024-2025)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 15,270 | 02/01/2023 ‚Üí 30/12/2024 | 1.0 MB |
| 60min | 3,994 | 02/01/2023 ‚Üí 30/12/2024 | 275.1 KB |
| Di√°rio | 499 | 02/01/2023 ‚Üí 30/12/2024 | 31.0 KB |

#### dados26 (janeiro 2026)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 610 | 02/01/2026 ‚Üí 28/01/2026 | 41.4 KB |
| 60min | 156 | 02/01/2026 ‚Üí 28/01/2026 | 10.8 KB |
| Di√°rio | 19 | 02/01/2026 ‚Üí 28/01/2026 | 1.2 KB |

**TOTAL COMBINADO:**
- **15min:** 15,880 candles (15,270 + 610) ‚úÖ **COMPLETO**
- **60min:** 4,150 candles (3,994 + 156) ‚úÖ **COMPLETO**
- **Di√°rio:** 518 candles (499 + 19) ‚úÖ **COMPLETO**

---

### üìä ITUB4 (Ita√∫ Unibanco PN)

#### dados23e24 (2023-2024-2025)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 7,678 | 21/12/2023 ‚Üí 30/12/2024 | 516.5 KB |
| 60min | 3,994 | 02/01/2023 ‚Üí 30/12/2024 | 273.4 KB |
| Di√°rio | 499 | 02/01/2023 ‚Üí 30/12/2024 | 30.7 KB |

#### dados26 (janeiro 2026)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 610 | 02/01/2026 ‚Üí 28/01/2026 | 41.1 KB |
| 60min | 156 | 02/01/2026 ‚Üí 28/01/2026 | 10.7 KB |
| Di√°rio | 19 | 02/01/2026 ‚Üí 28/01/2026 | 1.2 KB |

**TOTAL COMBINADO:**
- **15min:** 8,288 candles (7,678 + 610)
- **60min:** 4,150 candles (3,994 + 156) ‚úÖ **COMPLETO**
- **Di√°rio:** 518 candles (499 + 19) ‚úÖ **COMPLETO**

‚ö†Ô∏è **OBSERVA√á√ÉO:** 15min s√≥ tem dados desde 21/12/2023.

---

### üìä BBDC4 (Bradesco PN)

#### dados23e24 (2023-2024-2025)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 7,680 | 21/12/2023 ‚Üí 30/12/2024 | 516.3 KB |
| 60min | 3,994 | 02/01/2023 ‚Üí 30/12/2024 | 273.4 KB |
| Di√°rio | 499 | 02/01/2023 ‚Üí 30/12/2024 | 30.7 KB |

#### dados26 (janeiro 2026)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 610 | 02/01/2026 ‚Üí 28/01/2026 | 41.0 KB |
| 60min | 156 | 02/01/2026 ‚Üí 28/01/2026 | 10.7 KB |
| Di√°rio | 19 | 02/01/2026 ‚Üí 28/01/2026 | 1.2 KB |

**TOTAL COMBINADO:**
- **15min:** 8,290 candles (7,680 + 610)
- **60min:** 4,150 candles (3,994 + 156) ‚úÖ **COMPLETO**
- **Di√°rio:** 518 candles (499 + 19) ‚úÖ **COMPLETO**

‚ö†Ô∏è **OBSERVA√á√ÉO:** 15min s√≥ tem dados desde 21/12/2023.

---

### üìä ABEV3 (Ambev ON)

#### dados23e24 (2023-2024-2025)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 7,694 | 20/12/2023 ‚Üí 30/12/2024 | 513.3 KB |
| 60min | 3,993 | 02/01/2023 ‚Üí 30/12/2024 | 271.8 KB |
| Di√°rio | 499 | 02/01/2023 ‚Üí 30/12/2024 | 30.6 KB |

#### dados26 (janeiro 2026)
| Timeframe | Candles | Per√≠odo | Tamanho |
|-----------|---------|---------|---------|
| 15min | 609 | 02/01/2026 ‚Üí 28/01/2026 | 40.8 KB |
| 60min | 155 | 02/01/2026 ‚Üí 28/01/2026 | 10.6 KB |
| Di√°rio | 19 | 02/01/2026 ‚Üí 28/01/2026 | 1.2 KB |

**TOTAL COMBINADO:**
- **15min:** 8,303 candles (7,694 + 609)
- **60min:** 4,148 candles (3,993 + 155) ‚úÖ **COMPLETO**
- **Di√°rio:** 518 candles (499 + 19) ‚úÖ **COMPLETO**

‚ö†Ô∏è **OBSERVA√á√ÉO:** 15min s√≥ tem dados desde 20/12/2023.

---

## üìä TODOS OS 58 S√çMBOLOS - TABELA CONSOLIDADA

| S√≠mbolo | 15min (23e24) | 60min (23e24) | Daily (23e24) | 15min (26) | 60min (26) | Daily (26) | **Total 60min** |
|---------|---------------|---------------|---------------|------------|------------|------------|-----------------|
| **ABEV3** | 7,694 | 3,993 | 499 | 609 | 155 | 19 | **4,148** ‚úÖ |
| **AZUL4** | 0 ‚ö†Ô∏è | 3,994 | 499 | - | - | - | **3,994** |
| **B3SA3** | 1,898 | 3,994 | 499 | 608 | 155 | 19 | **4,149** ‚úÖ |
| **BBAS3** | 7,677 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **BBDC3** | 0 ‚ö†Ô∏è | 3,994 | 499 | - | - | - | **3,994** |
| **BBDC4** | 7,680 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **BBSE3** | 0 ‚ö†Ô∏è | 3,994 | 499 | - | - | - | **3,994** |
| **BEEF3** | 0 ‚ö†Ô∏è | 3,994 | 499 | - | - | - | **3,994** |
| **BRAP4** | 0 ‚ö†Ô∏è | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **BRFS3** | 8,016 | 0 ‚ö†Ô∏è | 499 | - | - | - | **0** ‚ö†Ô∏è |
| **CMIG4** | 8,012 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **CMIN3** | 0 ‚ö†Ô∏è | 3,994 | 499 | - | - | - | **3,994** |
| **CPLE6** | 0 ‚ö†Ô∏è | 3,994 | 499 | - | - | - | **3,994** |
| **CSAN3** | 0 ‚ö†Ô∏è | 3,993 | 499 | - | - | - | **3,993** |
| **CSNA3** | 15,271 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **CYRE3** | 8,014 | 3,987 | 499 | 608 | 155 | 19 | **4,142** ‚úÖ |
| **ECOR3** | 0 ‚ö†Ô∏è | 3,986 | 499 | 608 | 155 | 19 | **4,141** ‚úÖ |
| **EGIE3** | 0 ‚ö†Ô∏è | 3,989 | 499 | - | - | - | **3,989** |
| **ELET3** | 0 ‚ö†Ô∏è | 3,993 | 499 | - | - | - | **3,993** |
| **ELET6** | 0 ‚ö†Ô∏è | 3,986 | 499 | - | - | - | **3,986** |
| **EMBR3** | 15,269 | 3,993 | 499 | - | - | - | **3,993** |
| **ENEV3** | 0 ‚ö†Ô∏è | 3,975 | 499 | - | - | - | **3,975** |
| **EQTL3** | 0 ‚ö†Ô∏è | 3,992 | 499 | - | - | - | **3,992** |
| **GFSA3** | 8,815 | 3,993 | 499 | 595 | 155 | 19 | **4,148** ‚úÖ |
| **GGBR4** | 15,269 | 3,993 | 499 | 610 | 156 | 19 | **4,149** ‚úÖ |
| **GOAU4** | 0 ‚ö†Ô∏è | 3,994 | 499 | 609 | 155 | 19 | **4,149** ‚úÖ |
| **HAPV3** | 15,263 | 3,993 | 499 | - | - | - | **3,993** |
| **IBOV** | 8,040 | 3,986 | 499 | 606 | 152 | 19 | **4,138** ‚úÖ |
| **ITSA4** | 8,011 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **ITUB3** | 15,157 | 3,975 | 499 | - | - | - | **3,975** |
| **ITUB4** | 7,678 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **KLBN11** | 15,264 | 3,992 | 499 | - | - | - | **3,992** |
| **LREN3** | 8,013 | 3,989 | 499 | 610 | 156 | 19 | **4,145** ‚úÖ |
| **MGLU3** | 15,269 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **MRVE3** | 8,011 | 3,987 | 499 | 610 | 156 | 19 | **4,143** ‚úÖ |
| **MULT3** | 15,195 | 3,973 | 499 | - | - | - | **3,973** |
| **PCAR3** | 15,244 | 3,993 | 499 | - | - | - | **3,993** |
| **PETR3** | 15,248 | 3,993 | 499 | - | - | - | **3,993** |
| **PETR4** | 1,888 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **PETZ3** | 15,253 | 3,992 | 499 | - | - | - | **3,992** |
| **PRIO3** | 15,258 | 3,993 | 499 | - | - | - | **3,993** |
| **RADL3** | 15,239 | 3,981 | 499 | - | - | - | **3,981** |
| **RAIL3** | 15,216 | 3,978 | 499 | - | - | - | **3,978** |
| **RDOR3** | 15,248 | 3,982 | 499 | - | - | - | **3,982** |
| **RENT3** | 7,723 | 3,989 | 499 | 610 | 156 | 19 | **4,145** ‚úÖ |
| **SANB11** | 15,256 | 3,989 | 499 | - | - | - | **3,989** |
| **SBSP3** | 15,244 | 3,991 | 499 | - | - | - | **3,991** |
| **SMTO3** | 15,235 | 3,988 | 499 | - | - | - | **3,988** |
| **SUZB3** | 15,267 | 3,993 | 499 | 610 | 156 | 19 | **4,149** ‚úÖ |
| **TAEE11** | 15,267 | 3,993 | 499 | - | - | - | **3,993** |
| **TIMS3** | 15,240 | 3,986 | 499 | - | - | - | **3,986** |
| **TOTS3** | 15,230 | 3,982 | 499 | - | - | - | **3,982** |
| **USIM5** | 15,268 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **VALE3** | 15,270 | 3,994 | 499 | 610 | 156 | 19 | **4,150** ‚úÖ |
| **VBBR3** | 15,250 | 3,984 | 499 | - | - | - | **3,984** |
| **VIVT3** | 0 ‚ö†Ô∏è | 3,992 | 499 | 608 | 154 | 19 | **4,146** ‚úÖ |
| **WEGE3** | 15,266 | 3,991 | 499 | - | - | - | **3,991** |
| **YDUQ3** | 15,256 | 3,991 | 499 | - | - | - | **3,991** |

**Legenda:**
- ‚úÖ = Dados completos (ambas as pastas combinadas)
- ‚ö†Ô∏è = Sem dados neste timeframe (valor 0)

---

## üìà ESTAT√çSTICAS GERAIS

### Cobertura por Timeframe

#### dados23e24 (2023-2024-2025)
| Timeframe | S√≠mbolos com Dados | % Cobertura |
|-----------|-------------------|-------------|
| 15min | 42 / 58 | 72.4% |
| 60min | 57 / 58 | 98.3% |
| Di√°rio | 58 / 58 | 100% |

**S√≠mbolo sem 60min:** BRFS3 ‚ö†Ô∏è

#### dados26 (janeiro 2026)
| Timeframe | S√≠mbolos com Dados | % Cobertura |
|-----------|-------------------|-------------|
| 15min | 24 / 24 | 100% |
| 60min | 24 / 24 | 100% |
| Di√°rio | 24 / 24 | 100% |

### Distribui√ß√£o de S√≠mbolos

| Categoria | Quantidade | S√≠mbolos |
|-----------|-----------|----------|
| **Em ambas as pastas** | 24 | ABEV3, B3SA3, BBAS3, BBDC4, BRAP4, CMIG4, CSNA3, CYRE3, ECOR3, GFSA3, GGBR4, GOAU4, IBOV, ITSA4, ITUB4, LREN3, MGLU3, MRVE3, PETR4, RENT3, SUZB3, USIM5, VALE3, VIVT3 |
| **Apenas em dados23e24** | 34 | AZUL4, BBDC3, BBSE3, BEEF3, BRFS3, CMIN3, CPLE6, CSAN3, EGIE3, ELET3, ELET6, EMBR3, ENEV3, EQTL3, HAPV3, ITUB3, KLBN11, MULT3, PCAR3, PETR3, PETZ3, PRIO3, RADL3, RAIL3, RDOR3, SANB11, SBSP3, SMTO3, TAEE11, TIMS3, TOTS3, VBBR3, WEGE3, YDUQ3 |
| **Apenas em dados26** | 0 | - |

---

## üö® PROBLEMAS IDENTIFICADOS

### 1. S√≠mbolos SEM dados 15min em dados23e24 (16 s√≠mbolos):
- AZUL4, BBDC3, BBSE3, BEEF3, BRAP4, CMIN3, CPLE6, CSAN3, ECOR3
- EGIE3, ELET3, ELET6, ENEV3, EQTL3, GOAU4, VIVT3

### 2. S√≠mbolo SEM dados 60min:
- **BRFS3** - S√≥ tem 15min e Di√°rio ‚ö†Ô∏è

### 3. Dados 15min INCOMPLETOS dos Priorit√°rios:
- **PETR4:** S√≥ desde 30/09/2024 (faltam 2023 e parte de 2024)
- **ITUB4:** S√≥ desde 21/12/2023 (falta 2023 inteiro)
- **BBDC4:** S√≥ desde 21/12/2023 (falta 2023 inteiro)
- **ABEV3:** S√≥ desde 20/12/2023 (falta 2023 inteiro)
- **VALE3:** ‚úÖ Completo desde 02/01/2023

---

## ‚úÖ RECOMENDA√á√ïES DE IMPORTA√á√ÉO

### Prioridade 1: Ativos Priorit√°rios (5 s√≠mbolos)
**Todos os timeframes para:**
- PETR4 ‚ö†Ô∏è (15min incompleto)
- VALE3 ‚úÖ (todos completos)
- ITUB4 ‚ö†Ô∏è (15min incompleto)
- BBDC4 ‚ö†Ô∏è (15min incompleto)
- ABEV3 ‚ö†Ô∏è (15min incompleto)

### Prioridade 2: S√≠mbolos em ambas as pastas (19 s√≠mbolos restantes)
B3SA3, BBAS3, BRAP4, CMIG4, CSNA3, CYRE3, ECOR3, GFSA3, GGBR4, GOAU4, IBOV, ITSA4, LREN3, MGLU3, MRVE3, RENT3, SUZB3, USIM5, VIVT3

### Prioridade 3: S√≠mbolos apenas em dados23e24 (34 s√≠mbolos)
AZUL4, BBDC3, BBSE3, BEEF3, BRFS3, CMIN3, CPLE6, CSAN3, EGIE3, ELET3, ELET6, EMBR3, ENEV3, EQTL3, HAPV3, ITUB3, KLBN11, MULT3, PCAR3, PETR3, PETZ3, PRIO3, RADL3, RAIL3, RDOR3, SANB11, SBSP3, SMTO3, TAEE11, TIMS3, TOTS3, VBBR3, WEGE3, YDUQ3

---

## üìä VOLUME ESTIMADO DE IMPORTA√á√ÉO

### Ativos Priorit√°rios (5 s√≠mbolos)

| S√≠mbolo | 15min | 60min | Di√°rio | **Total** |
|---------|-------|-------|--------|-----------|
| PETR4 | 2,498 | 4,150 | 518 | **7,166** |
| VALE3 | 15,880 | 4,150 | 518 | **20,548** |
| ITUB4 | 8,288 | 4,150 | 518 | **12,956** |
| BBDC4 | 8,290 | 4,150 | 518 | **12,958** |
| ABEV3 | 8,303 | 4,148 | 518 | **12,969** |
| **TOTAL** | **43,259** | **20,748** | **2,590** | **66,597** |

### Todos os 58 S√≠mbolos (estimativa)

Baseado nos arquivos CSV dispon√≠veis:
- **15min:** ~350,000 candles
- **60min:** ~240,000 candles
- **Di√°rio:** ~30,000 candles
- **TOTAL ESTIMADO:** ~**620,000 candles**

---

## ‚úÖ IMPORTA√á√ÉO REALIZADA - 28/01/2026

### Resultado da Importa√ß√£o

**Status:** ‚úÖ CONCLU√çDA COM SUCESSO

**Estat√≠sticas:**
- **Total de arquivos:** 157
- **Total de registros:** 775.259
- **S√≠mbolos importados:** 58
- **Erros:** 0
- **Taxa de sucesso:** 100%

**Distribui√ß√£o por Timeframe:**
- 15min: 338.847 registros (42 s√≠mbolos)
- 60min: 407.470 registros (57 s√≠mbolos)
- Di√°rio: 28.942 registros (58 s√≠mbolos)

**Script Utilizado:** `scripts/import_historical_data.py`

### Comando Executado

```bash
docker run --rm -it \
  -v "/home/dellno/√Årea de trabalho/dadoshistoricos.csv:/data" \
  -v /home/dellno/worksapace/b3-trading-platform/scripts:/scripts \
  --network b3-trading-platform_b3-network \
  python:3.11-slim bash -c "pip install -q asyncpg loguru && python3 /scripts/import_historical_data.py"
```

### Corre√ß√£o Realizada

**Problema Identificado:** Arquivos Di√°rios t√™m formato diferente (8 colunas sem campo `time`)

**Solu√ß√£o:** Parser condicional que detecta timeframe e usa formato correto:
- Intraday: `symbol;date;time;...` (9 campos)
- Di√°rio: `symbol;date;open;...` (8 campos, SEM time)

## üîß PR√ìXIMOS PASSOS

### 1. ~~Importa√ß√£o Imediata (Priorit√°rios)~~ ‚úÖ CONCLU√çDO

### 2. Valida√ß√£o P√≥s-Importa√ß√£o
```sql
-- Verificar quantidade de candles por s√≠mbolo e timeframe
SELECT 
    symbol,
    COUNT(*) FILTER (WHERE timeframe = '15min') as candles_15min,
    COUNT(*) FILTER (WHERE timeframe = '60min') as candles_60min,
    COUNT(*) FILTER (WHERE timeframe = 'daily') as candles_daily,
    MIN(timestamp) as primeiro_candle,
    MAX(timestamp) as ultimo_candle
FROM (
    SELECT symbol, '15min' as timeframe, timestamp FROM ohlcv_15min
    UNION ALL
    SELECT symbol, '60min' as timeframe, timestamp FROM ohlcv_60min
    UNION ALL
    SELECT symbol, 'daily' as timeframe, timestamp FROM ohlcv_daily
) combined
WHERE symbol IN ('PETR4', 'VALE3', 'ITUB4', 'BBDC4', 'ABEV3')
GROUP BY symbol
ORDER BY symbol;
```

### 3. Testes de Backtest
Ap√≥s importa√ß√£o completa, testar Wave3 v2.1 com dados hist√≥ricos completos (2023-2026).

### 4. Paper Trading
Iniciar paper trading com monitoramento em tempo real usando dados completos.

---

## üìù OBSERVA√á√ïES IMPORTANTES

1. **PETR4 - 15min incompleto:** S√≥ tem desde setembro/2024. Para backtests de longo prazo, usar 60min ou Daily.

2. **BRFS3 - Sem 60min:** √önico s√≠mbolo sem dados 60min. Pode ser problema na fonte ProfitChart.

3. **Dados26 j√° importados:** Janeiro/2026 j√° est√° no banco (18,343 candles). Importa√ß√£o deve focar em dados23e24.

4. **Gap entre 30/12/2024 e 02/01/2026:** N√£o h√° dados para 2025 inteiro, apenas 2023-2024 e jan/2026.

---

**Gerado por:** `scripts/analyze_all_csv_data.py`  
**√öltima atualiza√ß√£o:** 2026-01-28
